{% extends 'base.html' %}

{% block title %}{{ pet.name }}{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-md-6">
            {% if pet.image %}
            <img src="{{ pet.image.url }}" class="img-fluid rounded" alt="{{ pet.name }}">
            {% else %}
            <div class="bg-light rounded d-flex align-items-center justify-content-center" style="min-height: 400px;">
                <div class="text-center text-muted">
                    <i class="bi bi-image" style="font-size: 8rem;"></i>
                    <p class="mt-3 h5">No Image Available</p>
                </div>
            </div>
            {% endif %}
        </div>
        <div class="col-md-6">
            <h1>{{ pet.name }}</h1>
            <p class="text-muted">{{ pet.get_pet_type_display }} • {{ pet.breed }}</p>
            <hr>
            
            <div class="mb-3">
                <h5>Details</h5>
                <ul class="list-unstyled">
                    <li><i class="bi bi-calendar"></i> <strong>Age:</strong> {{ pet.age }} years</li>
                    <li><i class="bi bi-gender-ambiguous"></i> <strong>Gender:</strong> {{ pet.get_gender_display }}</li>
                    {% if pet.weight %}
                    <li><i class="bi bi-speedometer"></i> <strong>Weight:</strong> {{ pet.weight }} kg</li>
                    {% endif %}
                    <li><i class="bi bi-shield-check"></i> <strong>Vaccinated:</strong> {% if pet.vaccination_status %}<span class="text-success">Yes</span>{% else %}<span class="text-danger">No</span>{% endif %}</li>
                    <li><i class="bi bi-heart-pulse"></i> <strong>Spayed/Neutered:</strong> {% if pet.is_spayed_neutered %}<span class="text-success">Yes</span>{% else %}<span class="text-danger">No</span>{% endif %}</li>
                    <li><i class="bi bi-geo-alt"></i> <strong>Location:</strong> {{ pet.location }}</li>
                </ul>
            </div>
            
            <div class="mb-3">
                <h5>Description</h5>
                <p>{{ pet.description }}</p>
            </div>
            
            <div class="mb-3">
                <h5>Adoption Fee</h5>
                <p class="h4 text-primary">₹{{ pet.adoption_fee|floatformat:2 }}</p>
            </div>
            
            {% if pet.status == 'available' %}
                {% if user.is_authenticated %}
                    {% if not has_requested %}
                    <a href="{% url 'pets:request_adoption' pet.pk %}" class="btn btn-primary btn-lg">Request Adoption</a>
                    {% else %}
                    <button class="btn btn-secondary btn-lg" disabled>Adoption Requested</button>
                    {% endif %}
                {% else %}
                <a href="{% url 'users:login' %}" class="btn btn-primary btn-lg">Login to Adopt</a>
                {% endif %}
            {% else %}
            <button class="btn btn-secondary btn-lg" disabled>{{ pet.get_status_display }}</button>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

